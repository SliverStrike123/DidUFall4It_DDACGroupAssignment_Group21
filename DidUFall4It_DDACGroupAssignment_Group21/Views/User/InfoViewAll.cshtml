@model DidUFall4It_DDACGroupAssignment_Group21.Models.InfographicViewModel

@{
    ViewData["Title"] = "All Infographics";
}

<h2 class="mb-4">All Infographics</h2>

@if (Model.GetTotalCount() == 0)
{
    <p>No infographics available.</p>
}
else
{
    @foreach (var item in Model.GetList())
    {
        <div class="card mb-4 shadow-sm">
            <div class="card-body">
                <h4 class="card-title">@item.Title</h4>
                <p class="card-text">@item.Description</p>

                <p class="text-muted">
                    <small>Posted on @item.CreatedAt.ToString("yyyy-MM-dd HH:mm")</small>
                </p>

                <div class="d-flex gap-2">
                    <a asp-controller="User" asp-action="ViewInfo" asp-route-id="@item.Id" class="btn btn-primary">View</a>

                    @if (item.HasRated)
                    {
                        <button class="btn btn-secondary" disabled>Rated</button>
                    }
                    else
                    {
                        <a asp-controller="User" asp-action="ViewRateInfo" asp-route-id="@item.Id" class="btn btn-success">Rate</a>
                    }
                </div>
            </div>
        </div>
    }
}