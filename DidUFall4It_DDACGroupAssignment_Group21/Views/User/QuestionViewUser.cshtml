@model DidUFall4It_DDACGroupAssignment_Group21.Models.QuizModel
@{
    ViewData["Title"] = "Quiz Questions";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-5">
    <div class="card shadow-lg border-0 rounded-4">
        <div class="card-header bg-primary text-white fs-4 rounded-top-4">
            <i class="bi bi-question-circle"></i> Questions for: @Model.Title
        </div>
        <div class="card-body">
            <form asp-action="SubmitQuiz" method="post">
                <input type="hidden" name="QuizID" value="@Model.QuizModelId" />

                @if (Model.QuestionIds != null && Model.QuestionIds.Any())
                {
                    @foreach (var question in Model.QuestionIds)
                    {
                        <div class="card mb-4 border-light shadow-sm">
                            <div class="card-header bg-light">
                                <strong>@question.QuestionText</strong>
                            </div>
                            <div class="card-body">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="SubmittedAnswers[@question.QuestionId]" value="0" required />
                                    <label class="form-check-label">A. @question.OptionOne</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="SubmittedAnswers[@question.QuestionId]" value="1" />
                                    <label class="form-check-label">B. @question.OptionTwo</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="SubmittedAnswers[@question.QuestionId]" value="2" />
                                    <label class="form-check-label">C. @question.OptionThree</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="SubmittedAnswers[@question.QuestionId]" value="3" />
                                    <label class="form-check-label">D. @question.OptionFour</label>
                                </div>
                            </div>
                        </div>
                    }

                    <div class="text-end">
                        <button type="submit" class="btn btn-success px-4">
                            <i class="bi bi-send-check"></i> Submit Quiz
                        </button>
                    </div>
                }
                else
                {
                    <div class="alert alert-warning">No questions found for this quiz.</div>
                }
            </form>

            <div class="mt-4">
                <a asp-controller="User" asp-action="QuizViewUser" class="btn btn-primary">
                    <i class="bi bi-arrow-left-circle"></i> Back to Available Quizzes
                </a>
            </div>
        </div>
    </div>
</div>
