@* @model DidUFall4It_DDACGroupAssignment_Group21.Models.QuizViewUserViewModel *@

@* this is assuming you're once again using a different controller *@

@{
    ViewData["Title"] = "Answer Quiz";

}

<h1>@Model.QuizTitle</h1>

@if (Model.Questions != null && Model.Questions.Any())
{
    <form asp-controller="QuizMaker" asp-action="SubmitQuizAnswers" method="post">
        <input type="hidden" name="QuizModelId" value="@Model.QuizModelId" />
        @for (int i = 0; i < Model.Questions.Count; i++)
        {
            var q = Model.Questions[i];
            <div class="mb-4">
                <h5>@(i + 1). @q.QuestionText</h5>
                @if (q.Options != null)
                {
                    for (int j = 0; j < q.Options.Count; j++)
                    {
                        <div class="form-check">
                            <input class="form-check-input"
                                   type="radio"
                                   name="Answers[@i].SelectedOption"
                                   value="@j"
                                   id="q@q.QuestionId-o@j" />
                            <label class="form-check-label" for="q@q.QuestionId-o@j">
                                @q.Options[j]
                            </label>
                        </div>
                    }
                }
                <input type="hidden" name="Answers[@i].QuestionId" value="@q.QuestionId" />
            </div>
        }
        <button type="submit" class="btn btn-primary">Submit Answers</button>
    </form>
}
else
{
    <div class="alert alert-info">No questions are assigned to this quiz.</div>
}
